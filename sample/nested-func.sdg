fn bar() = 1000;

@test.eq(1703)
let x = {
    let k = bar();
    fn foo(x: Int, y: Int) = {
        let w = x + y;
        fn bar(y: Int, z: Int) = x + y + z + w + k;

        bar(x, y) + 3
    };

    foo(100, 200)
};
